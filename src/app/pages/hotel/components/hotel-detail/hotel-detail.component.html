<app-laytrip-loader [loading]="addCartLoading" [module]="'hotel'">
</app-laytrip-loader>

<!-- Start Search Result section -->
<section class="search_result flight" *ngIf="loading || roomLoading">
  <div class="container">
    <div class="row">
      <div class="col-lg-8">
        <div class="filter_saidbar">
          <div class="filter_by d-md-none d-lg-block">
            <div class="fliter_block">
              <div class="cmn_block price">
                <div class="col-md-12 px-0">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-12 p-0 mt-3">
            <div class="">
              <div class="price_by_date p-2" style="background: #fff;">
                <div class="d-flex w-100">
                  <div class="inner w-100">
                    <div class="slid_block"><a class="ng-tns-c10-0" href="javascript:void(0);">
                        <div class="block_top">
                          <p class="fb_animation"></p>
                        </div>
                        <div class="block_btm">
                          <p class="fb_animation"></p>
                        </div>
                        <div class="block_btm">
                          <p class="fb_animation"></p>
                        </div>
                      </a></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="filter_by d-md-none d-lg-block">
            <div class="fliter_block">
              <div class="cmn_block price d-flex">
                <div class="col-md-3 px-0">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-3 px-0">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-3 px-0">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-3 px-0">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
              </div>
              <div class="cmn_block price">
                <div class="col-md-12 px-0">
                  <div class="block_im">
                    <div class="fb_animation ml-3 w-50"></div>
                    <div class="fb_animation ml-3 w-50"></div>
                  </div>
                </div>
                <div class="col-md-12 px-0 mt-2">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-12 px-0 mt-2">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-12 px-0 mt-2">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-12 px-0 mt-2">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-12 px-0 mt-2">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="result_listing one_way_list mt-4">
          <div class="search_block">
            <div class="listing_block">
              <div class="row">
                <div class="col-md-2 px-0">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-6 px-0">
                  <div class="block_detail">
                    <div class="block_detail_top">
                      <p class="fb_animation w-100 mb-0"></p>
                      <p class="fb_animation w-100 mb-0"></p>
                      <p class="fb_animation w-100 mb-0"></p>
                      <p class="fb_animation w-100 mb-2"></p>
                    </div>
                    <div class="block_detail_btm">
                      <div class="show_detail">
                        <p class="fb_animation w-50 mb-0"></p>
                      </div>
                      <div class="info_price_origin">
                        <p class="fb_animation w-100 mb-0"></p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 px-0">
                  <div class="block_price">
                    <p class="fb_animation w-100 mb-2"></p>
                    <p class="fb_animation w-100 mb-0"></p>
                    <p class="fb_animation w-100 mb-3"></p>
                    <div class="fb_animation mb-0 w-50 mx-auto"></div>
                    <div class="fb_animation mb-3 w-50 mx-auto"></div>
                    <p class="fb_animation w-100 mb-2"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="search_block">
            <div class="listing_block">
              <div class="row">
                <div class="col-md-2 px-0">
                  <div class="block_im">
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                    <div class="fb_animation ml-3"></div>
                  </div>
                </div>
                <div class="col-md-6 px-0">
                  <div class="block_detail">
                    <div class="block_detail_top">
                      <p class="fb_animation w-100 mb-0"></p>
                      <p class="fb_animation w-100 mb-0"></p>
                      <p class="fb_animation w-100 mb-0"></p>
                      <p class="fb_animation w-100 mb-2"></p>
                    </div>
                    <div class="block_detail_btm">
                      <div class="show_detail">
                        <p class="fb_animation w-50 mb-0"></p>
                      </div>
                      <div class="info_price_origin">
                        <p class="fb_animation w-100 mb-0"></p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 px-0">
                  <div class="block_price">
                    <p class="fb_animation w-100 mb-2"></p>
                    <p class="fb_animation w-100 mb-0"></p>
                    <p class="fb_animation w-100 mb-3"></p>
                    <div class="fb_animation mb-0 w-50 mx-auto"></div>
                    <div class="fb_animation mb-3 w-50 mx-auto"></div>
                    <p class="fb_animation w-100 mb-2"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="d-flex">
          <div class="col-lg-12 p-0">
            <div class="">
              <div class="price_by_date p-2" style="background: #fff;">
                <div class="d-flex w-100">
                  <div class="inner w-100">
                    <div class="slid_block"><a class="ng-tns-c10-0" href="javascript:void(0);">
                        <div class="block_top">
                          <p class="fb_animation"></p>
                        </div>
                        <div class="block_btm">
                          <p class="fb_animation"></p>
                        </div>
                        <div class="block_btm">
                          <p class="fb_animation"></p>
                        </div>
                        <div class="block_btm">
                          <p class="fb_animation"></p>
                        </div>
                        <div class="block_btm">
                          <p class="fb_animation"></p>
                        </div>
                      </a></div>
                  </div>
                </div>
              </div>
              <div class="price_by_date p-2" style="background: #fff;">
                <div class="d-flex mb-4">
                  <div class="d-flex w-50 pr-3">
                    <div class="inner w-100">
                      <div class="slid_block"><a class="ng-tns-c10-0" href="javascript:void(0);">
                          <div class="block_top">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                        </a></div>
                    </div>
                  </div>
                  <div class="d-flex w-50 pl-3">
                    <div class="inner w-100">
                      <div class="slid_block"><a class="ng-tns-c10-0" href="javascript:void(0);">
                          <div class="block_top">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                        </a></div>
                    </div>
                  </div>
                </div>
                <div class="d-flex mb-4">
                  <div class="d-flex w-50 pr-3">
                    <div class="inner w-100">
                      <div class="slid_block"><a class="ng-tns-c10-0" href="javascript:void(0);">
                          <div class="block_top">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                        </a></div>
                    </div>
                  </div>
                  <div class="d-flex w-50 pl-3">
                    <div class="inner w-100">
                      <div class="slid_block"><a class="ng-tns-c10-0" href="javascript:void(0);">
                          <div class="block_top">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                        </a></div>
                    </div>
                  </div>
                </div>
                <div class="d-flex mb-4">
                  <div class="d-flex w-50 pr-3">
                    <div class="inner w-100">
                      <div class="slid_block"><a class="ng-tns-c10-0" href="javascript:void(0);">
                          <div class="block_top">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                        </a></div>
                    </div>
                  </div>
                  <div class="d-flex w-50 pl-3">
                    <div class="inner w-100">
                      <div class="slid_block"><a class="ng-tns-c10-0" href="javascript:void(0);">
                          <div class="block_top">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                          <div class="block_btm">
                            <p class="fb_animation"></p>
                          </div>
                        </a></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Close Search Result section -->
<div class="search_tab_listing_wrapper">
  <div class="container">
    <div class="search_tab_icons_wrps">
      <a class="tab_anch" href="javascript:void(0);">
        <img class="active-icon" src="{{s3BucketUrl}}assets/images/airplane_tab.svg" alt="Flight Icon" />
        <img class="default-icon" src="{{s3BucketUrl}}assets/images/airplane-flying-inactive.svg" alt="Flight Icon" />
      </a>
      <a class="active tab_anch" href="javascript:void(0);">
        <img class="active-icon" src="{{s3BucketUrl}}assets/images/icon/bed-white.svg" alt="Hotel Icon" />
        <img class="default-icon" src="{{s3BucketUrl}}assets/images/icon/bed-gray.svg" alt="Hotel Icon" />
      </a>
      <a class="tab_anch" href="javascript:void(0);" style="pointer-events: none;">
        <img class="active-icon" src="{{s3BucketUrl}}assets/images/home_active.svg" alt="Accommodation Icon" />
        <img class="default-icon" src="{{s3BucketUrl}}assets/images/home_inactive.svg" alt="Accommodation Icon" />
      </a>
      <a class="tab_anch" href="javascript:void(0);" style="pointer-events: none;">
        <img class="active-icon" src="{{s3BucketUrl}}assets/images/car_tab_inactive.svg" alt="car Icon" />
        <img class="default-icon" src="{{s3BucketUrl}}assets/images/car_tab_inactive.svg" alt="car Icon" />
      </a>
    </div>
    <div class="searchbar_box_common">
      <app-hotel-search-widget></app-hotel-search-widget>
    </div>
  </div>
</div>
<app-hotel-not-found *ngIf="isNotFound"></app-hotel-not-found>

<section class="search_result hotels" *ngIf="!isNotFound && hotelRoomArray.length">
  <div class="container">
    <div class="title_name_wrapper">
      <div class="col_left">
        <h5 class="">{{hotelDetails.name}}</h5>
        <span class="add_wrpper">
          <span class="hotel_address">
            {{hotelDetails.address}}
          </span>
          <span class="hotel_stars">
            <ng-container *ngIf="hotelDetails?.rating">
              <img *ngFor="let in of counter(hotelDetails?.rating)" class="filled"
                src="{{s3BucketUrl}}assets/images/icon/star_filled.svg" alt="filled Stars Icon">
            </ng-container>
            <img *ngFor="let in of counter(5-hotelDetails?.rating)" class="blank"
              src="{{s3BucketUrl}}assets/images/icon/star_blank.svg" alt="blank Stars Icon">
          </span>
        </span>

      </div>
      <div class="col_right" *ngIf="hotelRoomArray.length">
        <div class="price_wrpper">
          <small class="desk_small">Flexible Installments</small>
          <span>
            From
            <span class="big_font">${{hotelRoomArray[0].secondary_start_price | number : '1.2-2'}}</span>
            weekly
          </span>
          <small class="mobile_small">Flexible Installments</small>
        </div>
      </div>
    </div>
    <div class="detail_box_wrpr">
      <div class="left_box_wrps">
        <div class="main_slider_big">
          <ngx-gallery [options]="galleryOptionsMain" [images]="galleryImages"></ngx-gallery>
        </div>
        <div class="description_wrpper">
          <h3 class="common_title_wrps">Description</h3>
          <p>
            {{hotelDetails.description}}
          </p>
        </div>
        <div class="right_box_wrps mobile_right">

          <div class="map_wrapper">
              <agm-map [latitude]="hotelDetails?.hotelLocations?.latitude"
                [longitude]="hotelDetails?.hotelLocations?.longitude" [zoom]="12">
                <agm-marker iconUrl="http://maps.google.com/mapfiles/ms/icons/blue-dot.png"
                  [latitude]="hotelDetails?.hotelLocations?.latitude"
                  [longitude]="hotelDetails?.hotelLocations?.longitude">
                </agm-marker>
              </agm-map>
          </div>
          <div class="amenities_wrpper">
            <h3 class="common_title_wrps">Amenities</h3>
            <ul *ngIf="hotelDetails?.amenities?.list.length">
              <ng-container *ngFor="let amenity of hotelDetails?.amenities?.list ; let i=index">
                <li *ngIf="!showMoreAmenties && i < 10 ">{{amenity}}</li>
                <li *ngIf="showMoreAmenties">{{amenity}}</li>
              </ng-container>
            </ul>
            <a *ngIf="!showMoreAmenties && hotelDetails?.amenities?.list.length>10" (click)="toggleAmenities()"
              class="cta_link hover-link">More</a>
            <a *ngIf="showMoreAmenties && hotelDetails?.amenities?.list.length>10" (click)="toggleAmenities()"
              class="cta_link hover-link">Less</a>
          </div>
        </div>
        <div class="room_list_wrp" id="full_hotel_listing">
          <h3 class="common_title_wrps">Rooms</h3>
          <div class="search_block" *ngFor="let room of hotelRoomArray; let index = index;">
            <div class="listing_block">
              <div class="listing_inner_box_wrppr">
                <div class="desktop_box">
                  <div class="box_left">
                    <div class="block_main">
                      <div class="block_top">
                        <div class="block_inner">
                          <div class="box_img">
                            <div class="block_im">
                              <div class="hotel_list_img_wrp">
                                <ngx-gallery [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>
                              </div>
                            </div>
                          </div>

                          <div class="box_info">
                            <div class="block_detail">
                              <div class="block_detail_top">
                                <div class="detail_info">
                                  <h4>{{room.title}}</h4>
                                  <span class="adress_span">
                                    Sleeps {{room.occupancy}}
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="block_detail_btm">
                              <span [id]="'accordion_infos1'+index" class="show_detail">
                                <a data-toggle="collapse" data-parent="#full_hotel_listing" [href]="'#collapse1'+index"
                                  aria-expanded="false" aria-controls="collapse1" class="hotel_anchor">
                                  Details
                                </a>
                              </span>
                            </div>

                          </div>
                        </div>

                      </div>

                    </div>
                  </div>
                  <div class="box_right">
                    <div class="block_price block_pr">
                      <div class="block_inn_pr">
                        <div class="block" *ngIf="room.start_price>0">
                          <p>Flexible Installments</p>
                          <p>From <span>${{room.secondary_start_price | number : '1.2-2'}}</span> weekly
                          </p>
                        </div>
                        <div class="block" *ngIf="room.start_price==0">
                          <p>Full Payment <span>${{ room.selling.total | number : '1.2-2' }}</span></p>
                        </div>
                      </div> <a class="book_btn anchor-tag" (click)="selectRoom(room)">Select</a>

                    </div>
                  </div>
                </div>
                <div class="mobile_box">

                  <div class="hotel_list_img_wrp">
                    <ngx-gallery [options]="galleryOptions" [images]="galleryImages"></ngx-gallery>
                  </div>
                  <div class="middle_part">
                    <div class="detail_info">
                      <h4>{{room.title}}</h4>
                      <span class="adress_span">
                        Sleeps {{room.occupancy}}
                      </span>

                    </div>

                    <span [id]="'accordion_infos1'+index" class="show_detail">
                      <a data-toggle="collapse" data-parent="#full_hotel_listing" [href]="'#collapse1'+blockIndex"
                        aria-expanded="false" aria-controls="collapse1" class="hotel_anchor">
                        Details
                      </a>
                    </span>
                  </div>
                  <div class="thrd_part">
                    <div class="block_price block_pr">
                      <div class="block_inn_pr">
                        <div class="block" *ngIf="room.start_price>0">
                          <p>From <span>${{room.secondary_start_price | number : '1.2-2'}}</span> weekly
                          </p>
                        </div>
                        <div class="block" *ngIf="room.start_price==0">
                          <p>Full Payment <span>${{ room.selling.total | number : '1.2-2' }}</span></p>
                        </div>
                      </div> <a class="book_btn anchor-tag" (click)="selectRoom(room)">Select</a>
                      <p>Flexible Installments</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div [id]="'collapse1'+index" class="detail_info_show collapse">
              <div class="card-body">
                <div class="io_ru_wrps">
                  <div class="installment_wprs">
                    <div class="type_lines">
                      <span class="titles">
                        Installment Option 1
                      </span>
                      <span class="texts" *ngIf="room.start_price>0">
                        ${{room.start_price | number : '1.2-2'}} downpayment and {{room.no_of_weekly_installment}}
                        weekly installments of
                        ${{room.secondary_start_price | number : '1.2-2'}}
                      </span>
                      <span class="texts" *ngIf="room.start_price==0">
                        Flights within 30 days of travel not available in installments
                      </span>
                    </div>
                    <div class="type_lines">
                      <span class="titles">
                        Installment Option 2
                      </span>
                      <span class="texts" *ngIf="room.start_price>0">
                        ${{room.second_down_payment | number : '1.2-2'}} downpayment and
                        {{room.no_of_weekly_installment_2}} bi-weekly installments of
                        ${{room.secondary_start_price_2 | number : '1.2-2'}}
                      </span>
                      <span class="texts" *ngIf="room.start_price==0">
                        Flights within 30 days of travel not available in installments
                      </span>
                    </div>
                    <div class="type_lines">
                      <span class="titles">
                        Installment Option 3
                      </span>
                      <span class="texts" *ngIf="room.start_price>0">
                        ${{room.third_down_payment | number : '1.2-2'}} downpayment and
                        {{room.no_of_weekly_installment_3}} monthly installments of
                        ${{room.secondary_start_price_3 |
                        number : '1.2-2'}}
                      </span>
                      <span class="texts" *ngIf="room.start_price==0">
                        Flights within 30 days of travel not available in installments
                      </span>
                    </div>
                    <div class="type_lines">
                      <span class="titles">
                        Average Nightly Rate
                      </span>
                      <span class="texts">
                        ${{room.night_rate | number : '1.2-2'}} including taxes and fees
                      </span>
                      <div class="notifi_text mobile_notifi">
                        More Weekly, Bi-Weekly and Monthly plan options on Booking screen.
                      </div>
                    </div>
                    <div class="full_desk_not">
                      <div class="notifi_text">
                        More Weekly, Bi-Weekly and Monthly plan options on Booking screen.
                      </div>
                    </div>
                  </div>

                  <div class="rules_wrps">
                    <span class="heads">
                      <img src="{{s3BucketUrl}}assets/images/icon/bed-pink.svg" alt=""> Rules
                    </span>
                    <span class="texts_rules">
                      Non-refundable, non-transferable. Change policy reflected in Laytrip <a
                        [routerLink]="['/terms']">Terms</a> which apply.
                    </span>

                  </div>
                </div>
              </div>

            </div>
          </div>


        </div>
      </div>
      <div class="right_box_wrps desk_right">

        <div class="map_wrapper">
            <agm-map [latitude]="hotelDetails?.hotelLocations?.latitude"
              [longitude]="hotelDetails?.hotelLocations?.longitude" [zoom]="12">
              <agm-marker iconUrl="http://maps.google.com/mapfiles/ms/icons/blue-dot.png"
                [latitude]="hotelDetails?.hotelLocations?.latitude"
                [longitude]="hotelDetails?.hotelLocations?.longitude">
              </agm-marker>
            </agm-map>
        </div>
        <div class="amenities_wrpper">
          <h3 class="common_title_wrps">Amenities</h3>
          <ul *ngIf="hotelDetails.amenities?.list.length">
            <ng-container *ngFor="let amenity of hotelDetails.amenities.list ; let i=index">
              <li *ngIf="!showMoreAmenties && i < 10 ">{{amenity}}</li>
              <li *ngIf="showMoreAmenties">{{amenity}}</li>
            </ng-container>
          </ul>
          <a *ngIf="!showMoreAmenties && hotelDetails.amenities?.list.length>10" (click)="toggleAmenities()"
            class="cta_link hover-link">More</a>
          <a *ngIf="showMoreAmenties && hotelDetails.amenities?.list.length>10" (click)="toggleAmenities()"
            class="cta_link hover-link">Less</a>
        </div>
      </div>
    </div>
  </div>
</section>