<form [formGroup]="profileForm" novalidate autocomplete="off">
    <div class="account_cnt_main">
        <div class="update_info">
            <div class="form_row">
                <div class="update_profile">
                    <span>
                        <img class="img-rounded" src="{{image || defaultImage}}" alt="Profile Image">
                    </span>
                    <div class="update_profile_btn">
                        <input #hiddenfileinput style="display: none" type="file" accept="image/*"
                            (change)="onFileSelect($event)">
                        <button #upload (click)="hiddenfileinput.click()">Edit</button>
                    </div>
                </div>
            </div>
            <div class="form_row title_row">
                <h3>
                    Account Details
                </h3>
                <span class="edit_btns">
                    <a class="hover-link" *ngIf="!isFormControlEnable" (click)="enableFormControlInputs()">Edit</a>
                    <a class="hover-link" *ngIf="isFormControlEnable" (click)="onSubmit()">{{'update' |
                        translate}}</a>

                </span>
            </div>
            <!-- <div class="form_row">
            <div class="form_field">
                <label>{{'title' | translate}}</label>
                <ul class="custom_listing">
                    <li>
                        <label class="custom_radio">{{'mr' | translate}}
                            <input type="radio" checked="checked" value="mr"
                                formControlName="title">
                            <span class="checkmark"></span>
                        </label>
                    </li>
                    <li>
                        <label class="custom_radio">{{'ms' | translate}}
                            <input type="radio" value="ms" formControlName="title">
                            <span class="checkmark"></span>
                        </label>
                    </li>
                    <li>
                        <label class="custom_radio">{{'mrs'| translate}}
                            <input type="radio" value="mrs" formControlName="title">
                            <span class="checkmark"></span>
                        </label>
                    </li>
                </ul>
            </div>
        </div> -->
            <div class="form_row common_row">
                <label>{{'first_name' | translate}}<sup>*</sup></label>
                <div class="text_field">
                    <input type="text" placeholder="{{'first_name_placeholder' | translate}}"
                        formControlName="first_name" maxlength="25" tabindex="1" [readonly]="!isFormControlEnable">
                    <div *ngIf="(submitted || profileForm.controls.first_name.touched) && profileForm.controls.first_name.errors"
                        class="error">
                        <span *ngIf="profileForm.controls.first_name.errors.required" class="error_field">
                            {{'first_name_touched_validation' | translate}}</span>
                        <span *ngIf="profileForm.controls.first_name.errors.pattern" class="error_field">
                            {{'first_name_string_validation' | translate}}</span>
                    </div>
                </div>
            </div>
            <div class="form_row common_row">
                <label>{{'last_name' | translate}}<sup>*</sup></label>
                <div class="text_field">
                    <input type="text" [readonly]="!isFormControlEnable"
                        placeholder="{{'last_name_placeholder' | translate}}" formControlName="last_name" maxlength="25"
                        tabindex="2">
                    <div *ngIf="(submitted || profileForm.controls.last_name.touched) && profileForm.controls.last_name.errors"
                        class="error">
                        <small *ngIf="profileForm.controls.last_name.errors.required" class="error_field">
                            {{'last_name_touched_validation' | translate}}</small>
                        <small *ngIf="profileForm.controls.last_name.errors.pattern" class="error_field">
                            {{'last_name_string_validation' | translate}}</small>
                    </div>
                </div>
            </div>

            <div class="form_row common_row">
                <label>{{'email_small' | translate}}<sup>*</sup></label>
                <div class="text_field">
                    <input
                        [readonly]="(!isFormControlEnable ) || (selectResponse.email != '' && selectResponse.email !='undefined') "
                        type="email" placeholder="{{'email_placeholder' | translate}}" formControlName="email"
                        tabindex="4">
                    <div class="error"
                        *ngIf="(submitted || profileForm.controls.email.touched) && profileForm.controls.email.errors">
                        <span *ngIf="profileForm.controls.email.errors.required" class="error_field">
                            {{'email_touched_validation' | translate}}</span>
                        <span *ngIf="profileForm.controls.email.errors.pattern" class="error_field">
                            {{'email_invalid_validation' | translate}}</span>
                    </div>
                </div>
            </div>
            <div class="form_row common_row">
                <label>Password</label>
                <div class="text_field">
                    <input [readonly]="!isFormControlEnable" type="password" placeholder="••••••••••"
                        formControlName="password" maxlength="25" tabindex="5">
                    <div *ngIf="(submitted || profileForm.controls.last_name.touched) && profileForm.controls.last_name.errors"
                        class="error">
                        <small *ngIf="profileForm.controls.last_name.errors.required" class="error_field">
                            {{'last_name_touched_validation' | translate}}</small>
                        <small *ngIf="profileForm.controls.last_name.errors.pattern" class="error_field">
                            {{'last_name_string_validation' | translate}}</small>
                    </div>
                </div>
            </div>
            <div class="form_row common_row">
                <label>Home Airport</label>
                <div class="text_field">
                    <ng-select [selectOnTab]="true" [items]="data" bindLabel="display_name" bindValue="city"
                        [clearable]="false" minTermLength="3" notFoundText="" [virtualScroll]="true"
                        [(ngModel)]="home_airport" [ngModelOptions]="{standalone: true}"
                        (clear)="onRemove($event,{key: 'fromSearch'})" (search)="changeSearchDeparture($event)"
                        loadingText="" (change)="selectEvent($event, {key: 'fromSearch'})" class="laytrip-input"
                        placeholder="">
                        <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                            <div [ngClass]="(item.parentId==0)?'parent':'child'">
                                {{item.code}} {{item.city}},{{item.country}}-{{item.name}}
                            </div>
                        </ng-template>
                        <ng-template ng-label-tmp let-item="item">
                        {{item.city}}
                    </ng-template>
                </ng-select>
                <span *ngIf="departureAirport?.code">{{ departureAirport?.code }}, {{ departureAirport?.country }}</span>
                <span *ngIf="!departureAirport?.code"></span>
<!--                 <input type="text" [readonly]="!isFormControlEnable"  placeholder="LAX" formControlName="home_airport" maxlength="25" tabindex="6">
 -->                <!-- <div *ngIf="(submitted || profileForm.controls.last_name.touched) && profileForm.controls.last_name.errors"

                    class="error">
                    <small *ngIf="profileForm.controls.last_name.errors.required" class="error_field">
                        {{'last_name_touched_validation' | translate}}</small>
                    <small *ngIf="profileForm.controls.last_name.errors.pattern" class="error_field">
                        {{'last_name_string_validation' | translate}}</small>
                </div> -->
                </div>
            </div>
            <div class="form_row common_row">
                <label>{{'phone_no' | translate}}<sup>*</sup></label>
                <!-- <div class="text_field">
                <div class="phone_no">
                    
                    <div class="number">
                        <input type="text" [readonly]="!isFormControlEnable"  formControlName="phone_no" maxlength="10"
                            (keypress)="commonFunctoin.validateNumber($event)" tabindex="8"
                            placeholder="0000 0000 00">
                    </div>
                </div>
                
                <div class="error" *ngIf="(submitted || (profileForm.controls.country_code.touched && profileForm.controls.phone_no.touched)) 
                                && profileForm.hasError('phoneAndPhoneCodeError')">
                    <small class="error_field">{{'phone_touched_validation' | translate}}</small>
                </div>
            </div> -->
                <div class="text_field">
                    <span class="tel_span">
                        <input type="text" class="form-control" tabindex="14" placeholder="+00" maxlength="6"
                            formControlName="country_code">
                        <input type="text" tabindex="15" class="form-control" placeholder="000000000" maxlength="10"
                            formControlName="phone_no">
                    </span>
                </div>
            </div>
            <div class="form_row common_row dobs_account">
                <label>{{'dob' | translate}}<sup>*</sup></label>
                <div class="text_field">
                    <p-calendar [disabled]="!isFormControlEnable" dateFormat="M d, yy" class="form-control"
                        panelStyleClass="birth_date" inputId="basic" tabindex="9" formControlName="dob"
                        [maxDate]="dobMinDate" [readonlyInput]="true" [yearNavigator]="true" [monthNavigator]="true"
                        yearRange="{{'1971:'+this.dobMinDate.getFullYear()}}"
                        placeholder="{{'dob_placeholder' | translate}}" [defaultDate]="dobMinDate">
                    </p-calendar>
                    <div *ngIf="(submitted  || profileForm.controls.dob.touched) && profileForm.controls.dob.errors"
                        class="error">
                        <span *ngIf="profileForm.controls.dob.errors.required" class="error_field">
                            {{'dob_touched_validation' | translate}}</span>
                    </div>
                </div>
            </div>
            <div class="form_row common_row">
                <label>{{'gender_placeholder' |translate}}<sup>*</sup></label>
                <div class="text_field">

                    <!-- <ng-select formControlName="gender" [readonly]="!isFormControlEnable">
                    <ng-option *ngFor="let gender of genders" [value]="gender.key">{{gender.name}}</ng-option>
                 </ng-select>                  -->
                    <div class="gender_anchers">
                        <a [ngClass]="{'active': is_type == 'M'}" class="hover-link"
                            (click)="selectGender($event,'M')">Male</a>
                        <a [ngClass]="{'active': is_type == 'F'}" class="hover-link"
                            (click)="selectGender($event,'F')">Female</a>
                        <a [ngClass]="{'active': is_type == 'O'}" class="hover-link"
                            (click)="selectGender($event,'O')">Other</a>
                    </div>
                </div>
                <!-- <div class="select_gender">
                <ul>
                    <li> 
                        <a class="hover-link" (click)="clickGender($event,'M')"
                            [ngClass]="{'active_gender': is_type == 'M'}">
                            <div class="gender_type">
                                <img class="default-icon"
                                    src="{{s3BucketUrl}}assets/images/icon/male.svg"
                                    alt="male Icon">
                                <img class="active-icon"
                                    src="{{s3BucketUrl}}assets/images/icon/male-active.svg"
                                    alt="male Icon">
                            </div>
                            <span>{{'male' | translate}}</span>
                        </a>
                    </li>
                    <li>
                        <a class="hover-link" (click)="clickGender($event,'F')"
                            [ngClass]="is_gender && is_type == 'F' ? 'active_gender' : ''">
                            <div class="gender_type">
                                <img class="default-icon"
                                    src="{{s3BucketUrl}}assets/images/icon/female.svg"
                                    alt="Female Icon">
                                <img class="active-icon"
                                    src="{{s3BucketUrl}}assets/images/icon/female-active.svg"
                                    alt="Female Icon">
                            </div>
                            <span>{{'female' | translate}}</span>
                        </a>
                    </li>
                </ul>
            </div> -->
            </div>
            <div class="form_row common_row">
                <label>{{'location_detail' | translate}}</label>
                <div class="text_field">
                    <textarea [readonly]="!isFormControlEnable" formControlName="address" placeholder="Enter Address"
                        id="" cols="15" rows="10" tabindex="12"></textarea>
                </div>
            </div>

            <!-- <div class="form_row common_row">
            <div class="field_inn">
                <label>{{'language' | translate}}</label>
                <div class="text_field custom-select">
                    <ng-select class="ng-customClass" tabindex="7" seime lectOnTab="true"
                        placeholder="{{'language_placeholder' | translate}}"
                        formControlName="language_id">
                        <ng-option *ngFor="let language of languages" value="{{language.id}}">
                            {{language.name}}
                        </ng-option>
                    </ng-select>
                </div>
            </div>
            <div class="field_inn">
                <label>{{'currency' | translate}}</label>
                <div class="text_field custom-select">
                    <ng-select class="ng-customClass" tabindex="8" selectOnTab="true"
                        placeholder="{{'currency_placeholder' | translate}}"
                        formControlName="currency_id">
                        <ng-option *ngFor="let currency of currencies" value="{{currency.id}}">
                            {{currency.code}}
                        </ng-option>
                    </ng-select>
                </div>
            </div>
        </div>
        <div class="update_location_detail">
            <div class="section_title">
                <h4>{{'location_detail' | translate}}</h4>
            </div>
            <div class="detail_update">
                <div class="form_row">
                    <div class="field_bolck">
                        <div class="field_inn">
                            <label>{{'address_line_1' | translate}}</label>
                            <div class="text_field">
                                <input type="text" formControlName="address" maxlength="250"
                                    tabindex="9"
                                    placeholder="{{'address_line_1_placeholder' | translate}}">
                            </div>
                        </div>
                        <div class="field_inn">
                            <label>{{'address_line_2' | translate}}</label>
                            <div class="text_field">
                                <input type="text" formControlName="address2" maxlength="250"
                                    tabindex="12"
                                    placeholder="{{'address_line_2_placeholder' | translate}}">
                            </div>
                        </div>
                    </div>

                    <div class="field_bolck">
                        <div class="field_inn">
                            <label>{{'country' | translate}}</label>
                            <div class="text_field custom-select">
                                <ng-select class="ng-customClass" [items]="countries"
                                    bindLabel="name" tabindex="10" [selectOnTab]="true"
                                    formControlName="country_id" selectOnTab="true"
                                    placeholder="{{'country_placeholder' | translate}}"
                                    (change)="getStates($event)">
                                    <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                        <span class="ng-value-label"><img class="img_country_code"
                                                [src]="item.flag ? item.flag : s3BucketUrl+'assets/images/icon/flag/flag-svg.jpg'"
                                                width="20px" height="20px">
                                            {{ item.name ? item.name : 'Select country' }} </span>
                                        <span class="ng-value-icon right" (click)="clear(item)"
                                            aria-hidden="true">×</span>
                                    </ng-template>
                                    <ng-template ng-option-tmp let-item="item">
                                        <img class="img_country_code" [src]="item.flag" width="20px"
                                            height="20px">
                                        {{item.name}}
                                    </ng-template>
                                </ng-select>
                            </div>
                        </div>
                        <div class="field_inn">
                            <label>{{'city' | translate}}</label>
                            <div class="text_field custom-select">
                                <input type="text" formControlName="city_name" maxlength="250"
                                    tabindex="13" placeholder="{{'city_placeholder' | translate}}">

                            </div>
                        </div>
                    </div>

                    <div class="field_bolck">
                        <div class="field_inn">
                            <label>{{'state' | translate}}</label>
                            <div class="text_field custom-select">
                                <ng-select class="ng-customClass" clearSearchOnAdd="true"
                                    selectOnTab="true" tabindex="11" formControlName="state_id"
                                    placeholder="{{'state_placeholder' | translate}}">
                                    <ng-option *ngFor="let state of stateList" value="{{state.id}}">
                                        {{state.name}}</ng-option>
                                </ng-select>
                            </div>
                        </div>
                        <div class="field_inn">
                            <label>{{'zip_code' | translate}}</label>
                            <div class="text_field">
                                <input type="text" formControlName="zip_code" maxlength="6"
                                    tabindex="14"
                                    placeholder="{{'zip_code_placeholder' | translate}}"
                                    (keypress)="commonFunctoin.validateNotAllowSpecial($event)">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="update_location_detail">
            <div class="section_title">
                <h4>{{'other_detail' | translate}}</h4>
            </div>
            <div class="detail_update">
                <div class="form_row">
                    <div class="field_bolck half">
                        <div class="field_inn">
                            <label>{{'passport_number' | translate}}</label>
                            <div class="text_field">
                                <input type="text" formControlName="passport_number" maxlength="40"
                                    tabindex="15"
                                    placeholder="{{'passport_number_placeholder' | translate}}">
                            </div>
                        </div>
                    </div>

                    <div class="field_bolck half">
                        <div class="field_inn">
                            <label>{{'passport_expiry_date' | translate}}</label>
                            <div class="text_field">
                                <p-calendar class="account_datepicker"
                                    inputStyleClass="custom_datpicker passport_expiry_cal birth_date"
                                    inputId="basic" formControlName="passport_expiry"
                                    [minDate]="dobMinDate" [readonlyInput]="true"
                                    [yearNavigator]="true" [monthNavigator]="true"
                                    yearRange="2020:2030" [defaultDate]="dobMinDate" tabindex="16"
                                    dateFormat="M d, yy" panelStyleClass="calender-price-view"
                                    placeholder="{{'passport_expiry_date_placeholder' | translate}}">
                                </p-calendar>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> 
        <div class="form_update_btn">
            <button (click)="onSubmit()"> <i class="fa fa-spinner fa-spin" *ngIf="loading"></i>
                {{'update' |
                translate}}</button>
        </div> -->
        </div>
    </div>

</form>