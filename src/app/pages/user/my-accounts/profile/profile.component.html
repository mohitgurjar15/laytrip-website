<section class="account_part">
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <app-my-accounts-nav></app-my-accounts-nav>
            </div>
            <div class="col-lg-9">
                <div class="loader" *ngIf="loading">
                    <div class="account_cnt_main">
                        <div class="update_info">
                            <div class="update_info_left">
                                <div class="update_profile">
                                    <span style="overflow: hidden;">
                                        <p class="fb_animation w-100 mb-0"></p>
                                    </span>
                                    <div class="update_profile_btn">
                                        <p class="fb_animation w-100 mb-0"></p>
                                        <p class="fb_animation w-100 mb-0"></p>
                                    </div>
                                </div>
                            </div>
                            <div class="update_info_right">
                                <div class="form_row">
                                    <div class="form_field w-100">
                                        <label>
                                            <p class="fb_animation w-25 mb-0"></p>
                                        </label>
                                        <ul class="custom_listing">
                                            <li class="w-25 pr-3">
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </li>
                                            <li class="w-25 pr-3">
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </li>
                                            <li class="w-25 pr-0">
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="form_row">
                                    <div class="form_field half">
                                        <label>
                                            <p class="fb_animation w-25 mb-0"></p>
                                        </label>
                                        <div class="text_field">
                                            <p class="fb_animation w-100 mb-0"></p>
                                            <p class="fb_animation w-100 mb-0"></p>
                                        </div>
                                    </div>
                                    <div class="form_field half">
                                        <label>
                                            <p class="fb_animation w-25 mb-0"></p>
                                        </label>
                                        <div class="text_field">
                                            <p class="fb_animation w-100 mb-0"></p>
                                            <p class="fb_animation w-100 mb-0"></p>
                                        </div>
                                    </div>
                                </div>

                                <div class="form_row">
                                    <div class="form_field half">
                                        <label>
                                            <p class="fb_animation w-25 mb-0"></p>
                                        </label>
                                        <div class="text_field">
                                            <p class="fb_animation w-100 mb-0"></p>
                                            <p class="fb_animation w-100 mb-0"></p>
                                        </div>
                                    </div>
                                    <div class="form_field half">
                                        <label>
                                            <p class="fb_animation w-25 mb-0"></p>
                                        </label>
                                        <div class="text_field">
                                            <p class="fb_animation w-100 mb-0"></p>
                                            <p class="fb_animation w-100 mb-0"></p>
                                        </div>
                                    </div>
                                </div>

                                <div class="form_row">
                                    <div class="form_field half">
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form_field half">
                                        <label>
                                            <p class="fb_animation w-25 mb-0"></p>
                                        </label>
                                        <div class="select_gender">
                                            <ul>
                                                <li>
                                                    <a href="javascript:void(0);" class="active_gender">
                                                        <p class="fb_animation w-100 mb-0"></p>
                                                        <p class="fb_animation w-100 mb-0"></p>
                                                        <p class="fb_animation w-100 mb-0"></p>
                                                        <p class="fb_animation w-100 mb-0"></p>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a href="javascript:void(0);">
                                                        <p class="fb_animation w-100 mb-0"></p>
                                                        <p class="fb_animation w-100 mb-0"></p>
                                                        <p class="fb_animation w-100 mb-0"></p>
                                                        <p class="fb_animation w-100 mb-0"></p>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="update_location_detail">
                            <div class="section_title">
                                <h4>
                                    <p class="fb_animation w-25 mb-0"></p>
                                </h4>
                            </div>
                            <div class="detail_update">
                                <div class="form_row">
                                    <div class="field_bolck">
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="field_bolck">
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="field_bolck">
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="update_location_detail">
                            <div class="section_title">
                                <h4>
                                    <p class="fb_animation w-25 mb-0"></p>
                                </h4>
                            </div>
                            <div class="detail_update">
                                <div class="form_row">
                                    <div class="field_bolck half">
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="field_bolck half">
                                        <div class="field_inn">
                                            <label>
                                                <p class="fb_animation w-25 mb-0"></p>
                                            </label>
                                            <div class="text_field">
                                                <p class="fb_animation w-100 mb-0"></p>
                                                <p class="fb_animation w-100 mb-0"></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form_update_btn">
                        <div class="w-25 h-100 p-2" style="background:#1943FF; border-radius: 8px;">
                            <p class="fb_animation w-100 mb-0"></p>
                            <p class="fb_animation w-100 mb-0"></p>
                        </div>
                    </div>
                </div>

                <form *ngIf="!loading" [formGroup]="profileForm" novalidate autocomplete="off">
                    <div class="account_cnt_main">
                        <div class="update_info">
                            <div class="update_info_left">
                                <div class="update_profile">
                                    <span>
                                        <img class="img-rounded" src="{{image || defaultImage}}" alt="Profile Image">
                                    </span>
                                    <div class="update_profile_btn">
                                        <input #hiddenfileinput style="display: none" type="file" accept="image/*" (change)="onFileSelect($event)">
                                        <button #upload (click)="hiddenfileinput.click()"><img
                                                src="{{s3BucketUrl}}assets/images/icon/camera-icon.svg"
                                                alt="camera Icon"> {{'change' | translate}}</button>
                                    </div>
                                </div>
                            </div>
                            <div class="update_info_right">
                                <div class="form_row">
                                    <div class="form_field">
                                        <label>{{'title' | translate}}</label>
                                        <ul class="custom_listing">
                                            <li>
                                                <label class="custom_radio">{{'mr' | translate}}
                                                    <input type="radio" checked="checked" value="mr"
                                                        formControlName="title">
                                                    <span class="checkmark"></span>
                                                </label>
                                            </li>
                                            <li>
                                                <label class="custom_radio">{{'ms' | translate}}
                                                    <input type="radio" value="ms" formControlName="title">
                                                    <span class="checkmark"></span>
                                                </label>
                                            </li>
                                            <li>
                                                <label class="custom_radio">{{'mrs'| translate}}
                                                    <input type="radio" value="mrs" formControlName="title">
                                                    <span class="checkmark"></span>
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="form_row">
                                    <div class="form_field half">
                                        <label>{{'first_name' | translate}}<sup>*</sup></label>
                                        <div class="text_field">
                                            <input type="text" placeholder="{{'first_name_placeholder' | translate}}" formControlName="first_name" maxlength="25" tabindex="1">
                                            <div *ngIf="(submitted || profileForm.controls.first_name.touched) && profileForm.controls.first_name.errors" class="focus-input100 login-error">
                                                <p *ngIf="profileForm.controls.first_name.errors.required" class="error_text">{{'first_name_touched_validation' | translate}}</p>
                                                <div *ngIf="profileForm.controls.first_name.errors.pattern" class="error_text">{{'first_name_string_validation' | translate}}</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form_field half">
                                        <label>{{'last_name' | translate}}<sup>*</sup></label>
                                        <div class="text_field">
                                            <input type="text" placeholder="{{'last_name_placeholder' | translate}}" formControlName="last_name" maxlength="25" tabindex="2">
                                            <div *ngIf="(submitted || profileForm.controls.last_name.touched) && profileForm.controls.last_name.errors" class="focus-input100 login-error">
                                                <div *ngIf="profileForm.controls.last_name.errors.required" class="error_text">{{'last_name_touched_validation' | translate}}</div>
                                                <div *ngIf="profileForm.controls.last_name.errors.pattern" class="error_text">{{'last_name_string_validation' | translate}}</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form_row">
                                    <div class="form_field half">
                                        <label>{{'email_small' | translate}}<sup>*</sup></label>
                                        <div class="text_field">
                                            <input [readonly]="selectResponse.email != '' && selectResponse.email !='undefined' " type="email" placeholder="{{'email_placeholder' | translate}}" formControlName="email" tabindex="3">
                                        </div>
                                    </div>
                                    <div class="form_field half">
                                        <label>{{'phone_no' | translate}}<sup>*</sup></label>
                                        <div class="text_field">
                                            <div class="phone_no">
                                                <div class="code">
                                                    <div class="dropdown">
                                                        <ng-select class="ng-customClass" tabindex="4" selectOnTab="true" [items]="countries_code" bindLabel="country_name" clearSearchOnAdd="true" formControlName="country_code" placeholder="Select country code">
                                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                                <span class="ng-value-label"><img class="img_country_code"
                                                                        [src]="item.flag ? item.flag : s3BucketUrl+'assets/images/icon/flag/flag-svg.svg'"
                                                                        width="20px" height="20px">
                                                                    {{ item.country_name ? item.country_name :  'Select country code' }}
                                                                </span>
                                                                <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                                                            </ng-template>
                                                            <ng-template ng-option-tmp let-item="item">
                                                                <img [src]="item.flag" class="img_country_code" width="20px" height="20px"> {{item.country_name}}
                                                            </ng-template>
                                                        </ng-select>
                                                    </div>

                                                </div>
                                                <div class="number">
                                                    <input type="text" formControlName="phone_no" maxlength="10" (keypress)="commonFunctoin.validateNumber($event)" tabindex="5" placeholder="0000 0000 00">
                                                </div>
                                            </div>
                                            <!-- <div *ngIf="(submitted  || profileForm.controls.country_code.touched) && profileForm.controls.country_code.errors"
                                                class="focus-input100 login-error">
                                                <div *ngIf="profileForm.controls.country_code.errors.required"
                                                    class="error_text">Please enter
                                                    country code.</div>
                                            </div> -->
                                            <div *ngIf="(submitted || profileForm.controls.country_code.touched || profileForm.controls.phone_no.touched) 
                                             && profileForm.hasError('phoneAndPhoneCodeError')">
                                                <p class="error_text">{{'phone_touched_validation' | translate}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form_row">
                                    <div class="form_field half">
                                        <div class="field_inn">
                                            <label>{{'dob' | translate}}<sup>*</sup></label>
                                            <div class="text_field">
                                                <p-calendar dateFormat="M d, yy" class="account_datepicker" panelStyleClass="calender-price-view" inputStyleClass="custom_datpicker birth_date" inputId="basic" tabindex="6" formControlName="dob" [maxDate]="dobMinDate" [readonlyInput]="true" [yearNavigator]="true" [monthNavigator]="true" yearRange="1970:2020" placeholder="{{'dob_placeholder' | translate}}"
                                                    [defaultDate]="dobMinDate">
                                                </p-calendar>
                                                <div *ngIf="(submitted  || profileForm.controls.dob.touched) && profileForm.controls.dob.errors" class="focus-input100 login-error">
                                                    <div *ngIf="profileForm.controls.dob.errors.required" class="error_text">{{'dob_touched_validation' | translate}}</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="field_inn">
                                            <label>{{'language' | translate}}</label>
                                            <div class="text_field custom-select">
                                                <ng-select class="ng-customClass" tabindex="7" seime lectOnTab="true" placeholder="{{'language_placeholder' | translate}}" formControlName="language_id">
                                                    <ng-option *ngFor="let language of languages" value="{{language.id}}">
                                                        {{language.name}}
                                                    </ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                        <div class="field_inn">
                                            <label>{{'currency' | translate}}</label>
                                            <div class="text_field custom-select">
                                                <ng-select class="ng-customClass" tabindex="8" selectOnTab="true" placeholder="{{'currency_placeholder' | translate}}" formControlName="currency_id">
                                                    <ng-option *ngFor="let currency of currencies" value="{{currency.id}}">
                                                        {{currency.code}}
                                                    </ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form_field half">
                                        <label>{{'gender_placeholder' |translate}}<sup>*</sup></label>
                                        <div class="select_gender">
                                            <ul>
                                                <li>
                                                    <a class="hover-link" (click)="clickGender($event,'M')" [ngClass]="{'active_gender': is_type == 'M'}">
                                                        <div class="gender_type">
                                                            <img class="default-icon" src="{{s3BucketUrl}}assets/images/icon/male.svg" alt="male Icon">
                                                            <img class="active-icon" src="{{s3BucketUrl}}assets/images/icon/male-active.svg" alt="male Icon">
                                                        </div>
                                                        <span>{{'male' | translate}}</span>
                                                    </a>
                                                </li>
                                                <li>
                                                    <a class="hover-link" (click)="clickGender($event,'F')" [ngClass]="is_gender && is_type == 'F' ? 'active_gender' : ''">
                                                        <div class="gender_type">
                                                            <img class="default-icon" src="{{s3BucketUrl}}assets/images/icon/female.svg" alt="Female Icon">
                                                            <img class="active-icon" src="{{s3BucketUrl}}assets/images/icon/female-active.svg" alt="Female Icon">
                                                        </div>
                                                        <span>{{'female' | translate}}</span>
                                                    </a>
                                                </li>
                                                <!-- <li>
                                                    <a href="javascript:void(0);" (click)="clickGender($event,'N')"
                                                        [ngClass]="is_gender && is_type == 'N' ? 'active_gender' : ''">
                                                        <div class="gender_type">
                                                            <img class="default-icon"
                                                                src="{{s3BucketUrl}}assets/images/icon/non-binary.svg"
                                                                alt="Non Binary Icon">
                                                            <img class="active-icon"
                                                                src="{{s3BucketUrl}}assets/images/icon/non-binary-active.svg"
                                                                alt="Non Binary Icon">
                                                        </div>
                                                        <span>Non-Binary</span>
                                                    </a>
                                                </li> -->
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="update_location_detail">
                            <div class="section_title">
                                <h4>{{'location_detail' | translate}}</h4>
                            </div>
                            <div class="detail_update">
                                <div class="form_row">
                                    <div class="field_bolck">
                                        <div class="field_inn">
                                            <label>{{'address_line_1' | translate}}</label>
                                            <div class="text_field">
                                                <input type="text" formControlName="address" maxlength="250" tabindex="9" placeholder="{{'address_line_1_placeholder' | translate}}">
                                            </div>
                                            <!-- <div *ngIf="(submitted  || profileForm.controls.address.touched) && profileForm.controls.address.errors"
                                                class="focus-input100 login-error">
                                                <div *ngIf="profileForm.controls.address.errors.required"
                                                    class="error_text">Please enter your address.</div>
                                            </div> -->
                                        </div>
                                        <div class="field_inn">
                                            <label>{{'address_line_2' | translate}}</label>
                                            <div class="text_field">
                                                <input type="text" formControlName="address2" maxlength="250" tabindex="12" placeholder="{{'address_line_2_placeholder' | translate}}">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="field_bolck">
                                        <div class="field_inn">
                                            <label>{{'country' | translate}}</label>
                                            <div class="text_field custom-select">
                                                <ng-select class="ng-customClass" [items]="countries" bindLabel="name" tabindex="10" [selectOnTab]="true" formControlName="country_id" selectOnTab="true" placeholder="{{'country_placeholder' | translate}}" (change)="getStates($event)">
                                                    <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                        <span class="ng-value-label"><img class="img_country_code"
                                                                [src]="item.flag ? item.flag : s3BucketUrl+'assets/images/icon/flag/flag-svg.jpg'"
                                                                width="20px" height="20px">
                                                            {{ item.name ? item.name :  'Select country' }} </span>
                                                        <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                                                    </ng-template>
                                                    <ng-template ng-option-tmp let-item="item">
                                                        <img class="img_country_code" [src]="item.flag" width="20px" height="20px"> {{item.name}}
                                                    </ng-template>
                                                </ng-select>
                                            </div>
                                            <!-- <div *ngIf="(submitted  || profileForm.controls.country_id.touched) && profileForm.controls.country_id.errors "
                                                class="focus-input100 login-error">
                                                <div *ngIf="profileForm.controls.country_id.errors.required"
                                                    class="error_text">Please seletct
                                                    country.</div>
                                            </div> -->
                                        </div>
                                        <div class="field_inn">
                                            <label>{{'city' | translate}}</label>
                                            <div class="text_field custom-select">
                                                <input type="text" formControlName="city_name" maxlength="250" tabindex="13" placeholder="{{'city_placeholder' | translate}}">

                                            </div>
                                        </div>
                                    </div>

                                    <div class="field_bolck">
                                        <div class="field_inn">
                                            <label>{{'state' | translate}}</label>
                                            <div class="text_field custom-select">
                                                <ng-select class="ng-customClass" clearSearchOnAdd="true" selectOnTab="true" tabindex="11" formControlName="state_id" placeholder="{{'state_placeholder' | translate}}">
                                                    <ng-option *ngFor="let state of stateList" value="{{state.id}}">
                                                        {{state.name}}</ng-option>
                                                </ng-select>
                                            </div>
                                            <!-- <div *ngIf="(submitted  || profileForm.controls.state_id.touched) && profileForm.controls.state_id.errors "
                                                class="focus-input100 login-error">
                                                <div *ngIf="profileForm.controls.state_id.errors.required"
                                                    class="error_text">Please seletct
                                                    state.</div>
                                            </div> -->
                                        </div>
                                        <div class="field_inn">
                                            <label>{{'zip_code' | translate}}</label>
                                            <div class="text_field">
                                                <input type="text" formControlName="zip_code" maxlength="6" tabindex="14" placeholder="{{'zip_code_placeholder' | translate}}" (keypress)="commonFunctoin.validateNotAllowSpecial($event)">
                                            </div>
                                            <!--  <div *ngIf="(submitted || profileForm.controls.zip_code.touched) && profileForm.controls.zip_code.errors"
                                                class="focus-input100 login-error">
                                                <div *ngIf="profileForm.controls.zip_code.errors.required"
                                                    class="error_text">Please enter your zip code.</div>
                                            </div> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="update_location_detail">
                            <div class="section_title">
                                <h4>{{'other_detail' | translate}}</h4>
                            </div>
                            <div class="detail_update">
                                <div class="form_row">
                                    <div class="field_bolck half">
                                        <div class="field_inn">
                                            <label>{{'passport_number' | translate}}</label>
                                            <div class="text_field">
                                                <input type="text" formControlName="passport_number" maxlength="40" tabindex="15" placeholder="{{'passport_number_placeholder' | translate}}">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="field_bolck half">
                                        <div class="field_inn">
                                            <label>{{'passport_expiry_date' | translate}}</label>
                                            <div class="text_field">
                                                <p-calendar class="account_datepicker" inputStyleClass="custom_datpicker passport_expiry_cal birth_date" inputId="basic" formControlName="passport_expiry" [minDate]="dobMinDate" [readonlyInput]="true" [yearNavigator]="true" [monthNavigator]="true" yearRange="2020:2030" [defaultDate]="dobMinDate"
                                                    tabindex="16"  dateFormat="M d, yy" panelStyleClass="calender-price-view" placeholder="{{'passport_expiry_date_placeholder' | translate}}">
                                                </p-calendar>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="form_update_btn">
                        <button (click)="onSubmit()"> <i class="fa fa-spinner fa-spin" *ngIf="loading"></i> {{'update' | translate}}</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>