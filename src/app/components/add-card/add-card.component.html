<form [formGroup]="cardForm" id="payment-form" (ngSubmit)="submitPaymentForm()">
<!-- <form [formGroup]="cardForm" id="payment-form" (ngSubmit)="submitPaymentForm($event)"> -->
    <div class="add_card_block">
        <div class="form_row">
            <!-- <input type="hidden" formControlName="payment_method_token" id="payment_method_token"> -->

            <div class="form_field">
                <label>First Name<sup>*</sup></label>
                <div class="text_field">
                    <input type="text" formControlName="first_name" maxlength="20" tabindex="101"
                        placeholder="Enter first name">
                    <p *ngIf="submitted && cardForm.controls.first_name.errors" class="text-danger">Please enter your first name.
                    </p>
                </div>
            </div>

            <div class="form_field">
                <label>Last Name<sup>*</sup></label>
                <div class="text_field">
                    <input type="text" formControlName="last_name" maxlength="20" tabindex="101"
                        placeholder="Enter last name">
                    <p *ngIf="submitted && cardForm.controls.last_name.errors" class="text-danger">Please enter your last
                        name.
                    </p>
                </div>
            </div>

            <!-- <div class="form_field">
                <label>Card number<sup>*</sup></label>
                <div class="text_field">
                    <div id="spreedly-number" class="card_field" tabindex="102">
                        <p class="text-danger" *ngIf="cardError">{{ cardError }}</p>
                    </div>
                </div>
            </div> -->

        </div>
        <div class="form_row">

            <div class="form_field">
                <label>Card Number<sup>*</sup></label>
                <div class="text_field">
                    <input type="text" formControlName="card_number" maxlength="20" tabindex="101"
                        placeholder="Enter card number">
                    <p *ngIf="submitted && cardForm.controls.card_number.errors" class="text-danger">Please enter your card
                        number.
                    </p>
                </div>
            </div>
            
            <div class="form_field">
                <label>Expiry<sup>*</sup></label>
                <div class="text_field">
                    <!-- <input autocomplete="off" class="birth_date" type="text" formControlName="expiry" maxlength="20"
                        placeholder="MM/YYYY" tabindex="103" id="expiry_date"> -->
                    <input autocomplete="off" type="text" name="daterange" 
                        ngxDaterangepickerMd 
                        formControlName="expiry" 
                        class="form-control"
                        [singleDatePicker]="true"
                        (datesUpdated)="expiryDateUpdate($event)"
                        [locale]="locale"
                        [autoApply]="true"
                        tabindex="102"
                        />
                    <p *ngIf="submitted && cardForm.controls.expiry.errors" class="text-danger">Please enter expiry date.
                    </p>
                </div>
            </div>
            <!-- <div class="form_field">
                <label>CVV<sup>*</sup></label>
                <div class="text_field">
                    <div id="spreedly-cvv" class="card_field" tabindex="104"></div>
                </div>
            </div> -->
        </div>
        <div class="form_row">
            <div class="form_field">
                <label>Cvv<sup>*</sup></label>
                <div class="text_field">
                    <input autocomplete="off"  type="text" formControlName="card_cvv" maxlength="20"
                        placeholder="123" tabindex="103" >
                    <p *ngIf="submitted && cardForm.controls.card_cvv.errors" class="text-danger">Please enter cvv number.
                    </p>
                </div>
            </div>
        </div>

        <div class="block_card_save">
            <label class="custom_checkbox">
                <input type="checkbox" value="">
                <span class="checkmark"></span>
                Save this card for future booking.
            </label>
        </div>
        <div class="form_btn">
            <!-- <button>Save</button> -->
            <button type="submit">
                <i *ngIf="saveCardLoader" class="fa fa-spinner fa-spin" ></i>Add card</button>
        </div>
    </div>
</form>