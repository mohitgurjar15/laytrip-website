<div class="block_add_passenger">
  <form [formGroup]="adultForm" (ngSubmit)="onSubmit()">
    <!-- <div class="form_row">
      <div class="form_field">
        <label>Title<sup>*</sup></label>
        <ul class="custom_listing">
          <li>
            <label class="custom_radio">Mr.
              <input  *ngIf="traveler.gender" type="radio" data-title="{{traveler.title}}" formControlName="title" value="mr" tabindex="0"
                [checked]="traveler.title === 'mr'">
              <input type="radio" class="sss" formControlName="title" value="mr" tabindex="0"
                checked="true">
              <span class="checkmark"></span>
            </label>
          </li>
          <li>
            <label class="custom_radio">Ms.
              <input type="radio" formControlName="title" value="ms" tabindex="-1" [checked]="traveler.title === 'ms'">
              <span class="checkmark"></span>
            </label>
          </li>
          <li *ngIf="type=='adult'">
            <label class="custom_radio">Mrs.
              <input type="radio" formControlName="title" value="mrs" tabindex="-1"
                [checked]="traveler.title === 'mrs'">
              <span class="checkmark"></span>
            </label>
          </li>
        </ul>
      </div>
    </div> -->
    <div class="form_row">
      <div class="form_field">
        <label>Gender<sup>*</sup></label>
        <ul class="custom_listing">
          <li>
            <label class="custom_radio">Male
              <input *ngIf="traveler" type="radio" [checked]="traveler.gender === 'M'" formControlName="gender" value="M">
              <input checked="true"  type="radio"  formControlName="gender" value="M">
              <span class="checkmark"></span>
            </label>
          </li>
          <li>
            <label class="custom_radio">Female
              <input type="radio" formControlName="gender" value="F" [checked]="traveler.gender === 'F'">
              <span class="checkmark"></span>
            </label>
          </li>
          <!-- <li>
            <label class="custom_radio">Non - Binary
              <input type="radio" formControlName="gender" value="N" [checked]="traveler.gender === 'N'">
              <span class="checkmark"></span>
            </label>
          </li> -->
        </ul>
      </div>
    </div>
    <div class="form_row">
      <div class="form_field half">
        <label>First Name<sup>*</sup></label>
        <div class="text_field">
          <input type="text" formControlName="firstName" maxlength="80" tabindex="1" placeholder="Enter first name">
          <input type="hidden" formControlName="user_type" #var [value]="type">
          <div *ngIf="(submitted  || adultForm.controls.firstName.touched) && adultForm.controls.firstName.errors"
            class="focus-input100 login-error">
            <div *ngIf="adultForm.controls.firstName.errors.required" class="error_text">Please enter
              first name.</div>
            <div *ngIf="adultForm.controls.firstName.errors.pattern" class="error_text">First name should be minimum 2 character and maximum 30 character long and it should not contain digit & special character.</div>         
          </div>
        </div>
      </div>
      <div class="form_field half">
        <label>Last Name<sup>*</sup></label>
        <div class="text_field">
          <input type="text" formControlName="lastName" maxlength="20" tabindex="2" placeholder="Enter last name">
        </div>
        <div *ngIf="(submitted  || adultForm.controls.lastName.touched) && adultForm.controls.lastName.errors"
          class="focus-input100 login-error">
          <div *ngIf="adultForm.controls.lastName.errors.required" class="error_text">Please enter
            last name.
          </div>
          <div *ngIf="adultForm.controls.lastName.errors.pattern" class="error_text">Last name should be minimum 2 character and maximum 30 character long and it should not contain digit & special character.</div>         
        </div>
      </div>
    </div>
    <div class="form_row" *ngIf="type=='adult'">
      <div class="form_field half">
        <label>Email<sup>*</sup></label>
        <div class="text_field">
          <input type="email" [readonly]="traveler.userId" formControlName="email" maxlength="50" tabindex="3"
            placeholder="Enter your email">
        </div>
        <div *ngIf="(submitted  || adultForm.controls.email.touched) && adultForm.controls.email.errors"
          class="focus-input100 login-error">
          <div *ngIf="adultForm.controls.email.errors.required" class="error_text">Please enter
            email.
          </div>
          <div *ngIf="adultForm.controls.email.errors.pattern" class="error_text">Please enter valid
            email
            address.</div>
        </div>
      </div>

      <div class="form_field half" *ngIf="type=='adult'">
        <label>Phone<sup *ngIf="type=='adult'">*</sup></label>
        <div class="text_field">
          <div class="phone_no">
            <div class="code">
              <div class="dropdown">
                <ng-select class="ng-customClass country_code" tabindex="4" selectOnTab="true" [items]="countries_code"
                bindLabel="country_name" clearSearchOnAdd="true" formControlName="country_code" placeholder="Select country code">

                <ng-template ng-label-tmp let-item="item" clearAllText="sd"  let-clear="clear">
                  <span class="ng-value-label"><img class="img_country_code" [src]="item.flag ? item.flag : s3BucketUrl+'assets/images/icon/flag/flag-svg.svg'" width="20px" height="20px">   {{ item.country_name ? item.country_name :  'Select country code' }} </span>
                  <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                </ng-template>                                                        
                <ng-template ng-option-tmp let-item="item">
                    <img class="img_country_code" [src]="item.flag" width="20px" height="20px"> {{item.country_name}}
                </ng-template>  
              </ng-select>
              </div>
            </div>
            <div class="number">
              <input type="text" formControlName="phone_no" maxlength="10"
                (keypress)="commonFunction.validateNumber($event)" tabindex="5" placeholder="0000 0000 00">
            </div>
          </div>
        </div>
        <div *ngIf="(submitted || adultForm.controls.country_code.touched || adultForm.controls.phone_no.touched)">
          <div *ngIf="adultForm.hasError('phoneAndPhoneCodeError')">
              <p class="error_text">Please enter phone number.</p>
          </div>
          <!-- <div *ngIf="adultForm.controls.phone_no.errors.minlength || adultForm.controls.phone_no.errors.maxlength ">
              <p class="error_text">Phone number should be minimum 10 and maximum 10 digit.</p>
          </div> -->
        

        </div>
      </div>
    </div>

    <div class="form_row">
      <div class="form_field half">
        <label>DOB<sup>*</sup></label>
       <!--  <input type="text" tabindex="6" ngxDaterangepickerMd formControlName="dob" showDropdowns="true"
          alwaysShowCalendars="true" placeholder="" class="form-control custom_datpicker" [singleDatePicker]="true"
          (datesUpdated)="dobDateUpdate($event)" [locale]="locale" [autoApply]="true" [minDate]="dobMinDate"
          [maxDate]="dobMaxDate" /> -->
          <div class="text_field">

          <p-calendar 
          tabindex="6"
            inputStyleClass="custom_datpicker birth_date"
              inputId="basic" 
              formControlName="dob" 
              [maxDate]="dobMaxDate"
              [minDate]="dobMinDate"             
              [yearNavigator]="true"
              [monthNavigator]="true"
              [yearRange]="minyear"
              [defaultDate]="dobMaxDate"
              placeholder="Enter date of birth"
              >
          </p-calendar>
        </div>
         <div *ngIf="(submitted && adultForm.controls.dob.errors)" class="focus-input100 login-error">
          <div *ngIf="adultForm.controls.dob.errors.required" class="error_text">Please select
            date of birth.
          </div>
        </div>
      </div>
      <div class="form_field half">
        <label>Nationality<sup>*</sup></label>
        <div class="text_field custom-select">
          <ng-select class="ng-customClass" [items]="countries" bindLabel="name" tabindex="7" [selectOnTab]="true"
            formControlName="country_id" selectOnTab="true" placeholder="Select nationality">
            <ng-template ng-label-tmp let-item="item" let-clear="clear">
              <span class="ng-value-label"><img class="img_country_code" [src]="item.flag ? item.flag : s3BucketUrl+'assets/images/icon/flag/flag-svg.svg'" width="20px" height="20px">   {{ item.name ? item.name :  'Select country' }} </span>
              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
            </ng-template>                                                        
            <ng-template ng-option-tmp let-item="item">
                <img class="img_country_code" [src]="item.flag" width="20px" height="20px"> {{item.name}}
            </ng-template> 
          </ng-select>
        </div>
        <div *ngIf="(submitted  || adultForm.controls.country_id.touched) && adultForm.controls.country_id.errors"
          class="focus-input100 login-error">
          <div *ngIf="adultForm.controls.country_id.errors.required" class="error_text">Please select
            nationality.
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="is_passport_required && type!='infant'" class="form_row">
      <div class="form_field half">
        <label>Passport Expiry<sup *ngIf="is_passport_required && type!='infant'">*</sup></label>      
          <div class="text_field">
            <p-calendar 
            tabindex="6"
              inputStyleClass="custom_datpicker birth_date"
                inputId="basic" 
                formControlName="passport_expiry" 
                [minDate]="passportMaxDate"             
                [yearNavigator]="true"
                [monthNavigator]="true"
                placeholder="Enter passport expiry"
                yearRange="2020:2050"
                [defaultDate]="passportMaxDate"
                panelStyleClass="calender-passport-expiry"
                >
            </p-calendar>
          </div>
          <div
          *ngIf="(submitted  || adultForm.controls.passport_expiry.touched) && adultForm.controls.passport_expiry.errors"
          class="focus-input100 login-error">
          <div *ngIf="adultForm.controls.passport_expiry.errors.required" class="error_text">Please select 
            passport export date.
          </div>
        </div>
      </div> 
      <div class="form_field half">
        <label>Passport Number<sup *ngIf="is_passport_required && type!='infant'">*</sup></label>
        <div class="text_field">
          <input type="text" formControlName="passport_number" maxlength="30" tabindex="9"
            placeholder="Enter passport number">
        </div>
        <div
          *ngIf="(submitted  || adultForm.controls.passport_number.touched) && adultForm.controls.passport_number.errors"
          class="focus-input100 login-error">
          <div *ngIf="adultForm.controls.passport_number.errors.required" class="error_text">Please enter
            passport number.
          </div>
        </div>
      </div>

    </div>
    <div class="form_btn">
      <button type="submit">
        <i class="fa fa-spinner fa-spin" *ngIf="loading"></i> {{ traveler.userId ? 'Update' : 'Add' }}
      </button>
    </div>
  </form>
</div>