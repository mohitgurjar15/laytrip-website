<div class="block_add_passenger">
    <form [formGroup]="adultForm" (ngSubmit)="onSubmit()">
        <!-- <div class="form_row">
      <div class="form_field">
        <label>Title<sup>*</sup></label>
        <ul class="custom_listing">
          <li>
            <label class="custom_radio">Mr.
              <input  *ngIf="traveler.gender" type="radio" data-title="{{traveler.title}}" formControlName="title" value="mr" tabindex="0"
                [checked]="traveler.title === 'mr'">
              <input type="radio" class="sss" formControlName="title" value="mr" tabindex="0"
                checked="true">
              <span class="checkmark"></span>
            </label>
          </li>
          <li>
            <label class="custom_radio">Ms.
              <input type="radio" formControlName="title" value="ms" tabindex="-1" [checked]="traveler.title === 'ms'">
              <span class="checkmark"></span>
            </label>
          </li>
          <li *ngIf="type=='adult'">
            <label class="custom_radio">Mrs.
              <input type="radio" formControlName="title" value="mrs" tabindex="-1"
                [checked]="traveler.title === 'mrs'">
              <span class="checkmark"></span>
            </label>
          </li>
        </ul>
      </div>
    </div> -->
        <div class="form_row">
            <div class="form_field">
                <label>{{'gender' | translate}}<sup>*</sup></label>
                <ul class="custom_listing">
                    <li>
                        <label class="custom_radio">{{'male' | translate}}
              <input *ngIf="traveler" type="radio" [checked]="traveler.gender === 'M'" formControlName="gender" value="M">
              <input checked="true"  type="radio"  formControlName="gender" value="M">
              <span class="checkmark"></span>
            </label>
                    </li>
                    <li>
                        <label class="custom_radio">{{'female' | translate}}
              <input type="radio" formControlName="gender" value="F" [checked]="traveler.gender === 'F'">
              <span class="checkmark"></span>
            </label>
                    </li>
                    <!-- <li>
            <label class="custom_radio">Non - Binary
              <input type="radio" formControlName="gender" value="N" [checked]="traveler.gender === 'N'">
              <span class="checkmark"></span>
            </label>
          </li> -->
                </ul>
            </div>
        </div>
        <div class="form_row">
            <div class="form_field half">
                <label>{{'first_name' | translate}}<sup>*</sup></label>
                <div class="text_field">
                    <input type="text" formControlName="firstName" maxlength="80" tabindex="1" placeholder="{{'first_name_placeholder' | translate}}">
                    <input type="hidden" formControlName="user_type" #var [value]="type">
                    <div *ngIf="(submitted  || adultForm.controls.firstName.touched) && adultForm.controls.firstName.errors" class="focus-input100 login-error">
                        <div *ngIf="adultForm.controls.firstName.errors.required" class="error_text">{{'first_name_touched_validation' | translate}}</div>
                        <div *ngIf="adultForm.controls.firstName.errors.pattern" class="error_text">{{'first_name_string_validation' | translate}}</div>
                    </div>
                </div>
            </div>
            <div class="form_field half">
                <label>{{'last_name' | translate}}<sup>*</sup></label>
                <div class="text_field">
                    <input type="text" formControlName="lastName" maxlength="20" tabindex="2" placeholder="{{'last_name_placeholder' | translate}}">
                </div>
                <div *ngIf="(submitted  || adultForm.controls.lastName.touched) && adultForm.controls.lastName.errors" class="focus-input100 login-error">
                    <div *ngIf="adultForm.controls.lastName.errors.required" class="error_text">{{'last_name_touched_validation' | translate}}
                    </div>
                    <div *ngIf="adultForm.controls.lastName.errors.pattern" class="error_text">{{'last_name_string_validation' | translate}}</div>
                </div>
            </div>
        </div>
        <div class="form_row" *ngIf="type=='adult'">
            <div class="form_field half">
                <label>{{'email_small' | translate}}<sup>*</sup></label>
                <div class="text_field">
                    <input type="email" [readonly]="traveler.userId" formControlName="email" maxlength="50" tabindex="3" placeholder="{{'email_placeholder' | translate}}">
                </div>
                <div *ngIf="(submitted  || adultForm.controls.email.touched) && adultForm.controls.email.errors" class="focus-input100 login-error">
                    <div *ngIf="adultForm.controls.email.errors.required" class="error_text">{{'email_touched_validation' | translate}}
                    </div>
                    <div *ngIf="adultForm.controls.email.errors.pattern" class="error_text">{{'email_invalid_validation' | translate}}</div>
                </div>
            </div>

            <div class="form_field half" *ngIf="type=='adult'">
                <label>{{'phone_no' | translate}}<sup *ngIf="type=='adult'">*</sup></label>
                <div class="text_field">
                    <div class="phone_no">
                        <div class="code">
                            <div class="dropdown">
                                <ng-select class="ng-customClass country_code" tabindex="4" selectOnTab="true" [items]="countries_code" bindLabel="country_name" clearSearchOnAdd="true" formControlName="country_code" placeholder="{{'country_code_placeholder' | translate}}">

                                    <ng-template ng-label-tmp let-item="item" clearAllText="sd" let-clear="clear">
                                        <span class="ng-value-label"><img class="img_country_code" [src]="item.flag ? item.flag : s3BucketUrl+'assets/images/icon/flag/flag-svg.svg'" width="20px" height="20px">   {{ item.country_name ? item.country_name :  'Select country code' }} </span>
                                        <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                                    </ng-template>
                                    <ng-template ng-option-tmp let-item="item">
                                        <img class="img_country_code" [src]="item.flag" width="20px" height="20px"> {{item.country_name}}
                                    </ng-template>
                                </ng-select>
                            </div>
                        </div>
                        <div class="number">
                            <input type="text" formControlName="phone_no" maxlength="10" (keypress)="commonFunction.validateNumber($event)" tabindex="5" placeholder="0000 0000 00">
                        </div>
                    </div>
                </div>
                <div *ngIf="(submitted || adultForm.controls.country_code.touched || adultForm.controls.phone_no.touched)">
                    <div *ngIf="adultForm.hasError('phoneAndPhoneCodeError')">
                        <p class="error_text">{{'phone_touched_validation' | translate}}</p>
                    </div>
                    <!-- <div *ngIf="adultForm.controls.phone_no.errors.minlength || adultForm.controls.phone_no.errors.maxlength ">
              <p class="error_text">Phone number should be minimum 10 and maximum 10 digit.</p>
          </div> -->


                </div>
            </div>
        </div>

        <div class="form_row">
            <div class="form_field half">
                <label>{{'dob_in_capital' | translate}}<sup>*</sup></label>
                <!--  <input type="text" tabindex="6" ngxDaterangepickerMd formControlName="dob" showDropdowns="true"
          alwaysShowCalendars="true" placeholder="" class="form-control custom_datpicker" [singleDatePicker]="true"
          (datesUpdated)="dobDateUpdate($event)" [locale]="locale" [autoApply]="true" [minDate]="dobMinDate"
          [maxDate]="dobMaxDate" /> -->
                <div class="text_field">

                    <p-calendar tabindex="6" dateFormat="d M yy" inputStyleClass="custom_datpicker birth_date" inputId="basic" formControlName="dob" [maxDate]="dobMaxDate" [minDate]="dobMinDate" [yearNavigator]="true" [monthNavigator]="true" [yearRange]="minyear" [defaultDate]="dobMaxDate"
                        placeholder="Enter date of birth">
                    </p-calendar>
                </div>
                <div *ngIf="(submitted && adultForm.controls.dob.errors)" class="focus-input100 login-error">
                    <div *ngIf="adultForm.controls.dob.errors.required" class="error_text">{{'dob_touched_validation' | translate}}
                    </div>
                </div>
            </div>
            <div class="form_field half">
                <label>{{'nationality' | translate}}<sup>*</sup></label>
                <div class="text_field custom-select">
                    <ng-select class="ng-customClass" [items]="countries" bindLabel="name" tabindex="7" [selectOnTab]="true" formControlName="country_id" selectOnTab="true" placeholder="{{'select_nationality_placeholder' | translate}}">
                        <ng-template ng-label-tmp let-item="item" let-clear="clear">
                            <span class="ng-value-label"><img class="img_country_code" [src]="item.flag ? item.flag : s3BucketUrl+'assets/images/icon/flag/flag-svg.svg'" width="20px" height="20px">   {{ item.name ? item.name :  'Select country' }} </span>
                            <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">×</span>
                        </ng-template>
                        <ng-template ng-option-tmp let-item="item">
                            <img class="img_country_code" [src]="item.flag" width="20px" height="20px"> {{item.name}}
                        </ng-template>
                    </ng-select>
                </div>
                <div *ngIf="(submitted  || adultForm.controls.country_id.touched) && adultForm.controls.country_id.errors" class="focus-input100 login-error">
                    <div *ngIf="adultForm.controls.country_id.errors.required" class="error_text">{{'select_nationality_touched_validation' | translate}}
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="is_passport_required && type!='infant'" class="form_row">
            <div class="form_field half">
                <label>{{'passport_expiry_date' | translate}}<sup *ngIf="is_passport_required && type!='infant'">*</sup></label>
                <div class="text_field">
                    <p-calendar tabindex="6" dateFormat="d M yy" inputStyleClass="custom_datpicker birth_date" inputId="basic" formControlName="passport_expiry" [minDate]="passportMaxDate" [yearNavigator]="true" [monthNavigator]="true" placeholder="{{'passport_expiry_date_placeholder' | translate}}"
                        yearRange="2020:2050" [defaultDate]="passportMaxDate" panelStyleClass="calender-passport-expiry">
                    </p-calendar>
                </div>
                <div *ngIf="(submitted  || adultForm.controls.passport_expiry.touched) && adultForm.controls.passport_expiry.errors" class="focus-input100 login-error">
                    <div *ngIf="adultForm.controls.passport_expiry.errors.required" class="error_text">{{'passport_export_touched_validation' | translate}}
                    </div>
                </div>
            </div>
            <div class="form_field half">
                <label>{{'passport_number' | translate}}<sup *ngIf="is_passport_required && type!='infant'">*</sup></label>
                <div class="text_field">
                    <input type="text" formControlName="passport_number" maxlength="30" tabindex="9" placeholder="{{'passport_number_placeholder' | translate}}">
                </div>
                <div *ngIf="(submitted  || adultForm.controls.passport_number.touched) && adultForm.controls.passport_number.errors" class="focus-input100 login-error">
                    <div *ngIf="adultForm.controls.passport_number.errors.required" class="error_text">{{'passport_number_touched_validation' | translate}}
                    </div>
                </div>
            </div>

        </div>
        <div class="form_btn">
            <button type="submit">
        <i class="fa fa-spinner fa-spin" *ngIf="loading"></i> {{ traveler.userId ? 'Update' : 'Add' }}
      </button>
        </div>
    </form>
</div>